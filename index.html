<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KAROKE ONLINE TANPA IKLAN</title>
    
    <meta property="og:title" content="AYU MAIMAN: Karaoke & Gabung Grup!" />
    <meta property="og:description" content="Yuk, karokean seru di sini! Cek juga kontak owner/admin dan isi formulir untuk gabung Grup Pejuang Kuis/Rupiah atau Silahturahmi Cari Kawan. Jangan lupa baca peraturannya ya!" />
    <meta property="og:image" content="https://autoresbot.com/tmp_files/5c3a1f30-013c-4e5a-8170-fb8c9a97dc93.jpg" />
    <meta property="og:url" content="[GANTI DENGAN URL ASLI WEBSITE ANDA]" />
    <meta property="og:type" content="website" />
    <meta property="og:image:width" content="600" />
    <meta property="og:image:height" content="315" />
    <style>
        /* [SEMUA CSS ASLI ANDA DI SINI] */
        /* --- CSS Tambahan untuk Layar Pembuka --- */
        #welcomeOverlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.9); 
            color: white;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 5000; 
            transition: opacity 1s ease;
        }

        #openButton {
            background-color: rgba(0, 123, 255, 0.4); 
            color: white;
            border: 2px solid white;
            padding: 15px 30px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1.5em;
            font-weight: bold;
            transition: background-color 0.3s, transform 0.3s;
            backdrop-filter: blur(5px);
            z-index: 5010; 
        }
        
        #openButton:hover {
            background-color: rgba(0, 123, 255, 0.7);
            transform: scale(1.05);
        }
        
        /* CSS Dasar */
        body { 
            margin: 0; 
            font-family: Arial, sans-serif; 
            height: 100vh; 
            overflow: hidden; 
            background-color: #f0f0f0;
        }

        /* Gaya Navbar (Fixed) */
        .navbar { 
            background-color: #333; 
            padding: 10px 20px; 
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
            color: white; 
            position: fixed; 
            top: 0; 
            left: 0; 
            width: 100%; 
            z-index: 4500; 
            box-sizing: border-box; 
            height: 55px; 
        }
        .navbar-brand { display: flex; align-items: center; font-size: 1.4em; text-decoration: none; color: white; cursor: pointer; }
        .logo-placeholder { 
            width: 35px; 
            height: 35px; 
            background-image: url('https://autoresbot.com/tmp_files/f700b427-32a5-4d7c-9480-17b2b490898c.jpg');
            background-size: cover; 
            background-position: center; 
            border-radius: 50%; 
            margin-right: 8px; 
            display: inline-block; 
        }
        .brand-text { font-weight: 600; }
        .menu-button { background: none; color: white; border: none; padding: 8px 12px; cursor: pointer; border-radius: 5px; font-size: 1.4em; }
        .menu-content { 
            display: none; 
            position: absolute; 
            top: 55px; 
            right: 20px; 
            background-color: #444; 
            min-width: 220px; 
            box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.4); 
            z-index: 4501; 
            border-radius: 5px; 
            overflow: hidden; 
        } 
        .menu-content.show { display: block; }
        .menu-content a { color: white; padding: 10px 14px; text-decoration: none; display: flex; align-items: center; transition: background-color 0.3s; }
        .menu-content a:hover { background-color: #555; }

        /* Gaya Teks Berjalan (Navbar Kedua) */
        .running-text-bar { position: fixed; top: 55px; left: 0; width: 100%; height: 25px; background-color: #007bff; color: white; line-height: 25px; overflow: hidden; z-index: 2000; font-size: 0.8em; padding: 0 10px; }
        
        /* --- Gaya Konten Umum --- */
        #home-page, .content-layer {
            position: fixed; 
            top: 0; 
            left: 0; 
            width: 100%; 
            height: 100%;
            margin-top: 80px; 
            height: calc(100% - 80px); 
            display: flex; 
            flex-direction: column; 
            justify-content: flex-start; 
            align-items: center; 
            text-align: center; 
            color: white;
            padding: 10px; 
            background-size: cover; 
            background-repeat: no-repeat;
            background-position: center; 
            z-index: 1; 
            overflow-y: auto; 
        }

        #home-page { 
            background-color: #222; 
            z-index: 1; 
            padding-top: 15px; 
            justify-content: flex-start; 
        }

        .rules-container { 
            max-width: 700px; 
            width: 95%; 
            background-color: rgba(0, 0, 0, 0.7); 
            padding: 15px; 
            border-radius: 8px; 
            font-size: 0.9em; 
            line-height: 1.5; 
            margin-top: 10px;
            text-align: left;
            flex-shrink: 0; 
        }

        .content-layer { 
            z-index: 100; 
            opacity: 0; 
            pointer-events: none;
            transition: opacity 0.5s ease; 
            padding-top: 20px;
            padding-bottom: 20px;
            display: flex; 
        }
        
        .content-layer.active { 
            opacity: 1; 
            pointer-events: auto;
            z-index: 4000; 
        }
        
        #konten1 { 
            background-image: url('https://autoresbot.com/tmp_files/e2ac37d0-afb3-495a-badf-79c2549ef157.jpg'); 
            background-color: #0d47a1; 
        } 
        #konten2 { 
            background-image: url('https://autoresbot.com/tmp_files/5a97adf8-5d66-4895-bd03-a13bc9eab930.jpg'); 
            background-color: #2a2a2a; 
        } 
        
        /* --- YOUTUBE PLAYER CONTAINER --- */
        .youtube-input-container {
            max-width: 700px;
            width: 95%;
            margin: 20px auto 10px;
            padding: 15px;
            background-color: rgba(255, 255, 255, 0.15);
            border-radius: 8px;
            border-bottom: 5px solid #dc3545; 
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
            text-align: center;
            flex-shrink: 0;
            color: #fff;
        }

        .youtube-input-container input[type="text"] {
            width: 80%;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px 0 0 5px;
            box-sizing: border-box;
            font-size: 1em;
            outline: none;
            background-color: #f9f9f9;
            color: #333;
            float: left;
        }

        .youtube-input-container button {
            width: 20%;
            padding: 10px;
            border: none;
            background-color: #dc3545;
            color: white;
            border-radius: 0 5px 5px 0;
            cursor: pointer;
            font-size: 1em;
            transition: background-color 0.3s;
            float: left;
        }

        .youtube-input-container button:hover:not(:disabled) {
            background-color: #c82333;
        }
        /* Style saat tombol disabled */
        .youtube-input-container button:disabled {
            background-color: #6c757d; 
            cursor: not-allowed;
        }

        .input-group {
            display: flex;
            margin-bottom: 15px;
        }

        #video-output-container {
            margin-top: 20px;
            max-width: 700px;
            width: 95%;
            aspect-ratio: 16 / 9; 
            background-color: rgba(0, 0, 0, 0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            border-radius: 8px;
            overflow: hidden;
            position: relative;
            flex-shrink: 0;
        }

        #video-player {
            width: 100%;
            height: 100%;
            display: none; 
            border: none;
            transition: opacity 0.5s;
        }

        .message-box {
            color: #fff;
            padding: 15px;
            background-color: rgba(0, 0, 0, 0.5);
            border-radius: 5px;
            animation: fadeIn 0.5s;
        }

        /* Loading Spinner Animation */
        .loading-video {
            border: 4px solid rgba(255, 255, 255, 0.3);
            border-top: 4px solid #dc3545;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            animation: spin 1s linear infinite;
            display: none;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* --- ZAEN PLAY LIVE STREAMING INFO --- */
        #channel-live-info {
            position: absolute;
            top: 10px;
            left: 10px;
            display: flex;
            align-items: center;
            z-index: 1000;
            user-select: none;
            opacity: 0; /* Tersembunyi secara default */
            transition: opacity 0.5s ease; 
        }

        .live-tag {
            background-color: #ff0000; 
            color: white;
            padding: 2px 6px;
            border-radius: 3px;
            font-size: 0.7em;
            font-weight: bold;
            margin-right: 5px;
            animation: pulse 1.5s infinite; /* Efek berdetak */
        }
        
        .channel-name {
            background-color: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 3px 8px;
            border-radius: 3px;
            font-size: 0.8em;
            font-weight: bold;
        }

        /* Keyframes untuk animasi pulse (berdetak) */
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(255, 0, 0, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(255, 0, 0, 0); }
            100% { box-shadow: 0 0 0 0 rgba(255, 0, 0, 0); }
        }
        
        /* Gaya untuk Konten Grup */
        .konten-body {
            max-width: 700px;
            width: 95%;
            margin: 20px auto;
            padding: 20px;
            background-color: rgba(255, 255, 255, 0.95);
            color: #333;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            text-align: left;
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.5s ease, transform 0.5s ease;
            display: none; 
        }
        
        .konten-body.show {
            opacity: 1;
            transform: translateY(0);
            display: block; 
        }
        
        .buka-button {
            padding: 10px 20px;
            background-color: #28a745;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 10px;
            font-size: 1.1em;
            transition: background-color 0.3s;
        }

        .buka-button:hover {
            background-color: #218838;
        }
        
        .info-box {
            background-color: #e9ecef;
            border-left: 5px solid #007bff;
            padding: 15px;
            margin-bottom: 15px;
            border-radius: 5px;
        }
        
        .form-button {
            display: block;
            width: 100%;
            padding: 10px;
            background-color: #ffc107;
            color: #333;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            margin-top: 15px;
            transition: background-color 0.3s;
        }
        
        .form-button:hover {
            background-color: #e0a800;
        }

        /* Modal Styles */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            display: none; 
            justify-content: center;
            align-items: center;
            z-index: 5500;
        }

        .custom-form-modal {
            background: white;
            padding: 25px;
            border-radius: 10px;
            width: 90%;
            max-width: 400px;
            position: relative;
            animation: slideUp 0.3s ease-out;
            color: #333;
        }

        @keyframes slideUp {
            from { transform: translateY(50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .custom-form-modal input[type="text"], 
        .custom-form-modal select, 
        .custom-form-modal button[type="submit"] {
            width: 100%;
            padding: 10px;
            margin-bottom: 15px;
            border-radius: 5px;
            border: 1px solid #ccc;
            box-sizing: border-box;
        }

        .custom-form-modal button[type="submit"] {
            background-color: #007bff;
            color: white;
            border: none;
            font-weight: bold;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .custom-form-modal button[type="submit"]:hover {
            background-color: #0056b3;
        }

        .close-button {
            position: absolute;
            top: 10px;
            right: 15px;
            font-size: 24px;
            font-weight: bold;
            cursor: pointer;
            color: #aaa;
        }

        /* Contact List Styles */
        #contactItemsKuis, #contactItemsSilaturahmi {
            margin-top: 15px;
            border-top: 2px solid #ccc;
            padding-top: 10px;
        }

        .contact-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px dashed #eee;
        }

        .contact-item button {
            background-color: #007bff;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        .contact-item button:hover {
            background-color: #0056b3;
        }
    </style>
</head>
<body>

    <div id="welcomeOverlay">
        <h1 style="margin-bottom: 20px; text-shadow: 2px 2px 4px rgba(0,0,0,0.8);">Selamat Datang di AYU MAIMAN!</h1>
        <p style="margin-bottom: 30px; font-size: 1.1em; max-width: 80%; text-align: center;">
            Ayo mulai **Karaoke** dengan mencari lagu di bawah, atau cek menu di kanan atas untuk **Gabung Grup Pejuang Kuis/Rupiah** dan **Silahturahmi Cari Kawan**!
        </p>
        <button id="openButton" onclick="openWebsite()">
            Buka Website
        </button>
    </div>

    <nav class="navbar">
        <a class="navbar-brand" onclick="hideAllContentLayers()">
            <div class="logo-placeholder"></div>
            <span class="brand-text">AYU MAIMAN</span>
        </a>
        
        <div class="navbar-right">
            <button class="menu-button" onclick="toggleMenu()">
                &#9776;
            </button>
            <div class="menu-content" id="myMenu">
                <a href="#" onclick="hideAllContentLayers()">
                    <span role="img" aria-label="Home">üè†</span> Home
                </a>
                <a href="#" onclick="showContentLayer('konten1')">
                    <span role="img" aria-label="Konten 1">üí∞</span> Grup Pejuang Kuis/Rupiah
                </a>
                <a href="#" onclick="showContentLayer('konten2')">
                    <span role="img" aria-label="Konten 2">üë•</span> Silahturahmi Cari Kawan
                </a>
            </div>
        </div>
    </nav>
    
    <div class="running-text-bar">
        <marquee behavior="scroll" direction="left" scrollamount="6">
            selamat datang di website resmi ayumaiman, yuk bergabun bke grup whatsappku, pilih ya mau gabung ke grup yang mana
        </marquee>
    </div>

    <section id="home-page">
       <div id="video-output-container">
            <div id="channel-live-info">
                <span class="live-tag">LIVE</span>
                <span class="channel-name">ZAEN PLAY</span>
            </div>
            <div class="loading-video" id="loading-video"></div>
            <p class="message-box" id="video-message">Hi üëã, mau nyanyi apa?</p>
            <video id="video-player" controls autoplay loop playsinline>
                </video>
        </div>
        <div class="youtube-input-container">
            <div class="input-group">
                <input type="text" id="youtubeUrl" placeholder="ketik judul lagu disini" required>
                <button id="watchButton" onclick="fetchYouTubeVideo()">KAROKE</button>
            </div>
        </div>

       
        <div class="rules-container">
            <h2>Peraturan Grup: üí∏üçÇüå∏</h2>
            <p>
                ‚úì Yang baru bergabung langsung **japri owner** intro **Nama/ Askot**<br>
                ‚úì Anggota wajib save nmr owner/admin<br>
                ‚úì Noo **Bullying**<br>
                ‚úì Jangan **baperan**<br>
                ‚úì Dilarang **promosi / berjualan** tanpa sepengetahuan admin<br>
                ‚úì Dilarang sebar **link grup lain** tanpa ijin dari para admin dan owner<br>
                ‚úì Tidak boleh menggunakan **boot** di GC ini tanpa seijin para admin dan owner grup<br>
                ‚úì Jangan **spam stiker** secara berlebihan<br>
                ‚úì Jawab **soal** dengan baik dan benar<br>
                ‚úì Jika ada yang meminjam uang secara pribadi maka itu **bukan tanggungjawab owner/admin**<br>
                ‚úì Anggota **boleh buat kuis dan bagi dana kaget** dalam grup ini<br>
                ‚úì Anggota yang punya **saluran** di bolehkan promosi<br>
                ‚úì Jangan **keluar masuk grup** seenaknya<br>
                ‚úì Diperbolehkan **audio** dalam GC ini<br>
                ‚úì Grup pejuang rupiah satunya kena banned tanggal bikin 03-12-2024
            </p>
            <p style="text-align: center; font-weight: bold; margin-top: 10px;">
                Terimakasih semuanya semoga betah di grup kami üí∏ü§ë‚ù§Ô∏èüî•
            </p>
        </div>
    </section>

    <section id="konten1" class="content-layer">
        <h2 id="konten1-title">Grup Pejuang Kuis/Rupiah</h2>
        <button id="bukaButton1" class="buka-button" onclick="toggleKontenBody('konten1')">
            Buka Konten
        </button>
        <div id="konten1Body" class="konten-body">
            <div class="info-box">
                <p>Selamat datang Pejuang Rupiah! Di sini, kamu bisa mengasah otak, bersenang-senang, dan berkesempatan mendapatkan **dana kaget** dari hasil kuis seru! Jika kamu siap beradu cepat dan tepat, grup ini adalah tempatnya.</p>
                <p>Tertarik gabung? Klik tombol di bawah dan isi formulir singkat untuk konfirmasi kehadiranmu!</p>
            </div>
            <button class="form-button" onclick="openModal('modalKuis')">
                Isi Formulir Gabung Kuis
            </button>
            <div id="contactListKuis">
                <h3 style="text-align: center;">Pilih Kontak Admin/Owner untuk Japri</h3>
                <div id="contactItemsKuis"></div>
            </div>
        </div>
    </section>

    <section id="konten2" class="content-layer">
        <h2 id="konten2-title">Silahturahmi Cari Kawan</h2>
        <button id="bukaButton2" class="buka-button" onclick="toggleKontenBody('konten2')">
            Buka Konten
        </button>
        <div id="konten2Body" class="konten-body">
            <div class="info-box">
                <p>Halo para pencari kawan sejati! Di sini, kita merayakan **keindahan berkawan**, menjalin ikatan yang tulus, dan berbagi cerita tanpa batas. Mari bersama-sama memperluas jaringan persahabatan kita.</p>
                <p>Jika kamu tertarik untuk menjadi bagian dari komunitas yang positif ini, klik tombol di bawah dan **isi formulir singkat** untuk memperkenalkan dirimu!</p>
            </div>
            <button class="form-button" onclick="openModal('modalSilahturahmi')">
                Isi Formulir Cari Kawan
            </button>
            <div id="contactListSilaturahmi">
                <h3 style="text-align: center;">Pilih Kontak Admin/Owner untuk Japri</h3>
                <div id="contactItemsSilaturahmi"></div>
            </div>
        </div>
    </section>

    <div id="modalKuis" class="modal-overlay">
        <form id="formKuis" class="custom-form-modal" onsubmit="submitForm(event, 'formKuis')">
            <span class="close-button" onclick="closeModal('modalKuis')">&times;</span>
            <h3 style="text-align:center; margin-top:10px;">Grup Pejuang Kuis/Rupiah</h3>
            <label for="nama_kuis">Nama Lengkap:</label>
            <input type="text" id="nama_kuis" name="nama" required>
            <label for="kota_kuis">Asal Kota:</label>
            <input type="text" id="kota_kuis" name="kota" required>
            <button type="submit">Kirim Formulir</button>
        </form>
    </div>

    <div id="modalSilahturahmi" class="modal-overlay">
        <form id="formSilahturahmi" class="custom-form-modal" onsubmit="submitForm(event, 'formSilahturahmi')">
            <span class="close-button" onclick="closeModal('modalSilahturahmi')">&times;</span>
            <h3 style="text-align:center; margin-top:10px;">Silahturahmi Cari Kawan</h3>
            <label for="nama_silaturahmi">Nama Lengkap:</label>
            <input type="text" id="nama_silaturahmi" name="nama" required>
            <label for="usia">Usia:</label>
            <input type="text" id="usia" name="usia" required>
            <label for="kota_silaturahmi">Asal Kota:</label>
            <input type="text" id="kota_silaturahmi" name="kota" required>
            <label for="status">Status:</label>
            <select id="status" name="status" required>
                <option value="">-- Pilih Status --</option>
                <option value="Single">Single</option>
                <option value="Berpacaran">Berpacaran</option>
                <option value="Menikah">Menikah</option>
            </select>
            <button type="submit">Kirim Formulir</button>
        </form>
    </div>


    <script>
        // Data Kontak (tetap sama)
        const CONTACTS_KUIS = [
            { role: "Owner", name: "Ayumaiman", number: "+62 858-2238-2486" },
            { role: "Admin", name: "Sri Wahyuni", number: "+62 851-3670-4543" },
            { role: "Admin", name: "Sintia Ramadhaniy", number: "+62 857-3962-1119" },
            { role: "Admin", name: "Helmi Safitri", number: "+62 882-2662-8207" },
            { role: "Admin", name: "Bang Ben", number: "+62 857-3962-1119" },
            { role: "Admin", name: "Bang Aditya", number: "+60 11-3781 2385" },
            { role: "Admin", name: "Bang kian", number: "+62 857-3962-1119" },
            { role: "Admin", name: "Bang Ucup", number: "+62 823-1095-0351" }
        ];

        const CONTACTS_SILATURAHMI = [
            { role: "Owner", name: "Ayumaiman", number: "+62 858-2238-2486" },
            { role: "Admin", name: "Sri Wahyuni", number: "+62 851-3670-4543" },
            { role: "Admin", name: "Sintia Ramadhaniy", number: "+62 857-3962-1119" },
            { role: "Admin", name: "Helmi Safitri", number: "+62 882-2662-8207" },
            { role: "Admin", name: "Bang Ben", number: "+62 857-3962-1119" },
            { role: "Admin", name: "allone", number: "+62 819-1800-5934" },
            { role: "Admin", name: "Bang Ucup", number: "+62 823-1095-0351" }
        ];
        
        // FUNGSI UTAMA: Fetch dan Putar Video YouTube
        async function fetchYouTubeVideo() {
            const API_URL = 'https://api.deline.my.id/downloader/ytplay';
            const youtubeUrlInput = document.getElementById('youtubeUrl');
            const videoPlayer = document.getElementById('video-player');
            const loadingSpinner = document.getElementById('loading-video');
            const messageBox = document.getElementById('video-message');
            const watchButton = document.getElementById('watchButton');
            const liveInfo = document.getElementById('channel-live-info'); 
            
            const input = youtubeUrlInput.value.trim();

            if (!input) {
                alert('Mohon masukkan Judul atau kata kunci video!');
                return;
            }

            // --- Logika Penambahan Kata Kunci Tersembunyi ---
            // Kata kunci yang akan ditambahkan ke kueri API tanpa muncul di input pengguna.
            const hiddenKeyword = " karaoke request"; 
            const finalQuery = input + hiddenKeyword; // Gabungkan input pengguna dengan kata kunci tersembunyi
            // ----------------------------------------------------

            // --- 1. Mulai Cooldown Tombol Tonton (10 Detik) ---
            watchButton.disabled = true;
            watchButton.textContent = 'Menunggu (10s)';
            let countdown = 10;
            const interval = setInterval(() => {
                countdown--;
                if (countdown >= 0) {
                    watchButton.textContent = `Menunggu (${countdown}s)`;
                } else {
                    clearInterval(interval);
                    watchButton.disabled = false;
                    watchButton.textContent = 'KAROKE';
                }
            }, 1000);
            // ----------------------------------------------------

            // 2. Tampilkan loading dan sembunyikan player/pesan
            messageBox.style.display = 'none';
            videoPlayer.style.display = 'none';
            liveInfo.style.opacity = '0'; // Sembunyikan ZAEN PLAY
            loadingSpinner.style.display = 'block';
            videoPlayer.removeAttribute('src'); 

            try {
                // Gunakan finalQuery (dengan " karaoke request") untuk memanggil API
                const response = await fetch(`${API_URL}?q=${encodeURIComponent(finalQuery)}`);
                const result = await response.json();

                // 3. Sembunyikan loading
                loadingSpinner.style.display = 'none';

                // --- Logic yang disesuaikan dengan response JSON Anda (result.result.download) ---
                if (result.status && result.result && result.result.download) {
                    const videoLink = result.result.download;
                    const videoTitle = result.result.title || 'Video YouTube'; 
                    
                    // Berhasil: Set sumber video dan tampilkan player
                    videoPlayer.src = videoLink; 
                    videoPlayer.style.display = 'block'; 
                    messageBox.style.display = 'none'; 

                    // --- MUNCULKAN ZAEN PLAY SETELAH 7 DETIK ---
                    setTimeout(() => {
                        liveInfo.style.opacity = '1'; 
                    }, 7000);
                    // -------------------------------------------

                    // Coba putar otomatis
                    videoPlayer.play().catch(error => {
                        console.error("Autoplay gagal, mungkin ada batasan browser.", error);
                        messageBox.textContent = `Video "${videoTitle}" dimuat! Klik tombol play untuk memutar. (Autoplay diblokir browser)`;
                        messageBox.style.display = 'block';
                        videoPlayer.style.display = 'block';
                    });

                } else {
                    // Gagal: Tampilkan pesan error
                    const errorMessage = result.message || 'Gagal memproses. Coba masukkan Judul/kata kunci yang berbeda.';
                    messageBox.textContent = errorMessage;
                    messageBox.style.display = 'block';
                }

            } catch (error) {
                console.error('Error fetching YouTube video:', error);
                loadingSpinner.style.display = 'none';
                messageBox.textContent = 'Terjadi kesalahan jaringan atau server API.';
                messageBox.style.display = 'block';
            }
        }
        
        // FUNGSI LAIN (Navigasi dan Formulir) - TIDAK BERUBAH
        function openWebsite() {
            const overlay = document.getElementById('welcomeOverlay');
            overlay.style.opacity = '0';
            setTimeout(() => {
                overlay.style.display = 'none';
            }, 1000); 
        }

        function toggleMenu() {
            document.getElementById("myMenu").classList.toggle("show");
        }

        function hideAllContentLayers() {
            var layers = document.querySelectorAll('.content-layer');
            layers.forEach(function(layer) {
                layer.classList.remove('active');
            });
            document.getElementById("myMenu").classList.remove('show');
            
            document.getElementById('contactListKuis').style.display = 'none';
            document.getElementById('contactListSilaturahmi').style.display = 'none';
            
            closeModal('modalKuis');
            closeModal('modalSilahturahmi');
            
            document.getElementById('home-page').scrollTop = 0;
        }
        
        function showContentLayer(contentId) {
            hideAllContentLayers();

            var activeLayer = document.getElementById(contentId);
            if (activeLayer) {
                 activeLayer.classList.add('active');
            }
            
            document.getElementById('bukaButton1').style.display = 'block';
            document.getElementById('konten1Body').classList.remove('show');
            document.getElementById('bukaButton2').style.display = 'block';
            document.getElementById('konten2Body').classList.remove('show');
        }
        
        function toggleKontenBody(contentId) {
            var bodyId = contentId + 'Body';
            var buttonId = 'bukaButton' + contentId.slice(-1); 

            var body = document.getElementById(bodyId);
            var button = document.getElementById(buttonId);

            body.classList.add('show');
            button.style.display = 'none';
            
            if (contentId === 'konten1') {
                document.getElementById('contactListKuis').style.display = 'none';
            } else if (contentId === 'konten2') {
                document.getElementById('contactListSilaturahmi').style.display = 'none';
            }

            body.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }
        
        function openModal(modalId) {
            document.getElementById(modalId).style.display = 'flex';
            document.getElementById('contactListKuis').style.display = 'none';
            document.getElementById('contactListSilaturahmi').style.display = 'none';
        }

        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }
        
        function openWhatsApp(number, name, message) {
            let cleanNumber = number.replace(/[\s-()]/g, '').replace('++', '');
            
            if (cleanNumber.startsWith('0')) {
                cleanNumber = '62' + cleanNumber.substring(1);
            }
            if (cleanNumber.startsWith('+')) {
                cleanNumber = cleanNumber.substring(1);
            }

            const encodedMessage = encodeURIComponent(message);
            const waLink = `https://wa.me/${cleanNumber}?text=${encodedMessage}`;
            
            window.open(waLink, '_blank');
        }

        function displayContacts(formId, data) {
            let contacts, containerId, listDivId, messageBody;
            
            if (formId === 'formKuis') {
                contacts = CONTACTS_KUIS;
                containerId = 'contactItemsKuis';
                listDivId = 'contactListKuis';
                messageBody = `Halo kak, saya *${data.nama}* dari *${data.kota}* ingin gabung ke grup Pejuang Kuis/Rupiah. Mohon direspon ya kak. Terima kasih!`;
            
            } else if (formId === 'formSilahturahmi') {
                contacts = CONTACTS_SILATURAHMI;
                containerId = 'contactItemsSilaturahmi';
                listDivId = 'contactListSilaturahmi';
                messageBody = `Halo kak, saya *${data.nama}* ingin gabung ke grup Silahturahmi Cari Kawan. Berikut info singkat saya:\nNama: ${data.nama}\nUsia: ${data.usia}\nAsal Kota: ${data.kota}\nStatus: ${data.status}\n\nMohon direspon ya kak. Terima kasih!`;
            }
            
            const container = document.getElementById(containerId);
            const contactListDiv = document.getElementById(listDivId);
            container.innerHTML = '';
            
            let currentRole = '';
            
            contacts.forEach(contact => {
                if (contact.role !== currentRole) {
                    currentRole = contact.role;
                    const roleHeader = document.createElement('h4');
                    roleHeader.textContent = currentRole + ':';
                    container.appendChild(roleHeader);
                }

                const item = document.createElement('div');
                item.className = 'contact-item';

                item.innerHTML = `
                    <span>
                        <strong>${contact.name}</strong><br>
                        <small>${contact.number}</small>
                    </span>
                `;
                
                const button = document.createElement('button');
                button.textContent = 'Japri WA';
                
                button.addEventListener('click', () => {
                     openWhatsApp(contact.number, contact.name, messageBody);
                });
                
                item.appendChild(button); 
                container.appendChild(item); 
            });
            
            if (formId === 'formKuis') {
                closeModal('modalKuis');
            } else if (formId === 'formSilahturahmi') {
                closeModal('modalSilahturahmi');
            }
            
            contactListDiv.style.display = 'block';
            contactListDiv.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }


        function submitForm(event, formId) {
            event.preventDefault(); 
            
            if (formId === 'formKuis') {
                var data = {
                    nama: document.getElementById('nama_kuis').value,
                    kota: document.getElementById('kota_kuis').value
                };
                displayContacts(formId, data);
            
            } else if (formId === 'formSilahturahmi') {
                var data = {
                    nama: document.getElementById('nama_silaturahmi').value,
                    usia: document.getElementById('usia').value,
                    kota: document.getElementById('kota_silaturahmi').value,
                    status: document.getElementById('status').value
                };
                displayContacts(formId, data);
            }
            
            document.getElementById(formId).reset();
        }

        window.onclick = function(event) {
            if (!event.target.matches('.menu-button') && !event.target.closest('.menu-content')) {
                document.getElementById("myMenu").classList.remove('show');
            }
            
            if (event.target.classList.contains('modal-overlay')) {
                closeModal(event.target.id);
            }
        }
    </script>

</body>
</html>
